# Demarch Roadmap

**Modules:** 53 (46 versioned) | **Open beads:** 458 | **In-progress:** 6 | **Blocked:** 46 | **Closed:** 1,822 | **Total:** 2,301 | **Last updated:** 2026-02-27
**Structure:** [`CLAUDE.md`](../CLAUDE.md)
**Machine output:** [`docs/roadmap.json`](roadmap.json)

---

## Ecosystem Snapshot

| Module | Location | Version | Status | Roadmap | Open Beads |
|--------|----------|---------|--------|---------|------------|
| agent-rig | core/agent-rig | 0.1.0 | early | no | 0 |
| autarch | apps/autarch | 0.1.0 | active | yes | 0 |
| clavain | os/clavain | 0.6.106 | active | yes | 0 |
| interband | core/interband | — | planned | no | 0 |
| interbench | core/interbench | — | planned | no | 0 |
| intercache | interverse/intercache | 0.2.0 | early | no | 0 |
| interchart | interverse/interchart | 0.1.0 | early | no | 0 |
| intercheck | interverse/intercheck | 0.2.0 | active | yes | 4 |
| intercom | apps/intercom | 1.1.0 | active | yes | 0 |
| intercore | core/intercore | — | active | yes | 0 |
| intercraft | interverse/intercraft | 0.1.2 | active | yes | 4 |
| interdev | interverse/interdev | 0.2.0 | active | yes | 4 |
| interdoc | interverse/interdoc | 5.1.1 | active | yes | 4 |
| interfluence | interverse/interfluence | 0.2.8 | active | yes | 4 |
| interflux | interverse/interflux | 0.2.30 | active | yes | 0 |
| interform | interverse/interform | 0.1.0 | active | yes | 4 |
| interject | interverse/interject | 0.1.9 | active | yes | 4 |
| interkasten | interverse/interkasten | 0.4.6 | early | no | 0 |
| interknow | interverse/interknow | 0.1.0 | early | no | 0 |
| interlearn | interverse/interlearn | 0.1.0 | active | yes | 8 |
| interleave | interverse/interleave | 0.1.1 | early | no | 0 |
| interlens | interverse/interlens | 2.2.4 | active | yes | 4 |
| interline | interverse/interline | 0.2.6 | active | yes | 4 |
| interlock | interverse/interlock | 0.2.7 | active | yes | 0 |
| intermap | interverse/intermap | 0.1.4 | active | yes | 6 |
| intermem | interverse/intermem | 0.2.2 | active | yes | 0 |
| intermute | core/intermute | — | active | yes | 0 |
| intermux | interverse/intermux | 0.1.2 | active | yes | 4 |
| intername | interverse/intername | 0.1.1 | early | no | 0 |
| internext | interverse/internext | 0.1.2 | active | yes | 4 |
| interpath | interverse/interpath | 0.2.3 | active | yes | 4 |
| interpeer | interverse/interpeer | 0.1.0 | early | no | 0 |
| interphase | interverse/interphase | 0.3.7 | active | yes | 4 |
| interplug | interverse/interplug | 0.1.0 | early | no | 0 |
| interpub | interverse/interpub | 0.1.3 | active | yes | 4 |
| interpulse | interverse/interpulse | 0.1.1 | early | no | 0 |
| intersearch | interverse/intersearch | 0.2.0 | active | yes | 4 |
| intersense | interverse/intersense | 0.1.0 | early | no | 0 |
| interserve | interverse/interserve | 0.1.5 | active | yes | 4 |
| intership | interverse/intership | 0.3.0 | early | no | 0 |
| interskill | interverse/interskill | 0.1.0 | early | no | 0 |
| interslack | interverse/interslack | 0.1.0 | active | yes | 4 |
| interstat | interverse/interstat | 0.2.8 | active | yes | 4 |
| intersynth | interverse/intersynth | 0.1.6 | early | no | 0 |
| intertest | interverse/intertest | 0.1.1 | early | no | 0 |
| intertree | interverse/intertree | 0.1.0 | early | no | 0 |
| intertrust | interverse/intertrust | 0.1.2 | early | no | 0 |
| interwatch | interverse/interwatch | 0.1.5 | active | yes | 4 |
| marketplace | core/marketplace | — | active | yes | 0 |
| tldr-swinton | interverse/tldr-swinton | 0.7.14 | active | yes | 0 |
| tool-time | interverse/tool-time | 0.3.5 | active | yes | 0 |
| tuivision | interverse/tuivision | 0.1.6 | active | yes | 4 |
| interverse | root | — | active | yes | 0 |

**Legend:** `active` = has roadmap + recent activity. `early` = versioned but no module-level roadmap yet. `planned` = directory exists, no version. Open beads column shows module-local `.beads` counts; root-level beads (458 total open) track cross-module work.

---

## Open Epics

| Bead | Priority | Title | Status |
|------|----------|-------|--------|
| iv-w7bh | P0 | Intermap: Project-Level Code Mapping | open |
| iv-r6mf | P0 | [interspect] F1: routing-overrides.json schema + flux-drive reader | open |
| iv-ho3 | P0 | StrongDM Factory Substrate — validation-first infrastructure for Clavain | open |
| iv-b46xi | P0 | Measure north star — cost-per-landable-change baseline | open |
| iv-t712t | P1 | First-stranger experience — README, install, clavain setup | open |
| iv-6376 | P1 | [intercore] E9: Autarch Phase 2 — Pollard + Gurgeh migration | open |
| iv-yfkln | P1 | [intercom] IronClaw migration completion — retire NanoClaw compatibility | in-progress |
| iv-5muhg | P1 | Disagreement → resolution → routing signal pipeline | open |
| iv-14g9 | P2 | TOCTOU prevention: phased dispatch coordination | open |
| iv-toe0e | P3 | Gridfire: capability-based composition layer | open |
| iv-fl9gg | P3 | Research: anti-Goodhart mechanisms for Interspect optimization | open |
| iv-5jqi | P3 | [interbase] SDK roadmap — extended API, plugin author guide | open |
| iv-6376 | P3 | [intercore] E9: Autarch Phase 2 — Pollard + Gurgeh migration | open |
| iv-6ixw | P3 | [clavain] C5: Self-building loop — Clavain runs its own sprints | open |
| iv-qr0f | P4 | [intercore] E10: Sandboxing + Autarch Phase 3 (Coldwine) | open |

---

## Roadmap

### Now (P0-P1)

**P0 Epics & Features (4 core items)**

- **iv-w7bh** [P0] [epic] Intermap: Project-Level Code Mapping
  - Hub for the intermap extraction chain. Blocks 9 downstream beads (F1-F8 + vision docs). Currently in strategized phase.
- **iv-r6mf** [P0] [feature] [interspect] F1: routing-overrides.json schema + flux-drive reader
  - Unblocks the entire Interspect routing override chain (F2-F5). Required for adaptive model routing (B3 in Clavain track).
- **iv-ho3** [P0] [feature] StrongDM Factory Substrate — validation-first infrastructure for Clavain
  - New epic establishing validation-first infrastructure. Blocks 9 downstream items (CXDB-lite, scenario bank, Gurgeh/Coldwine integration).
- **iv-b46xi** [P0] [epic] Measure north star — cost-per-landable-change baseline
  - After 1,822 closed beads, no baseline exists for token spend, wall-clock time, or review quality per shipped change. Promoted from P1: the philosophy says "instrument first, optimize later" and the flywheel can't compound without evidence.

**P1 Epics & Features (5 core items)**

- **iv-t712t** [P1] [epic] First-stranger experience — README, install, clavain setup
  - No outside user has ever run this. Split scope: docs/README are P0-urgent (low effort, high signal); validated interactive flow stays P1.
- **iv-5muhg** [P1] [feature] Disagreement → resolution → routing signal pipeline
  - Wire the structured disagreement capture loop from PHILOSOPHY.md: disagreement at T, human resolution at T+1, routing signal at T+2. Depends on Interspect routing overrides (iv-r6mf).
- **iv-zsio** [P1] [feature] [clavain/interphase] Integrate full discovery pipeline into sprint workflow
  - Discovery stage vision (multi-source scoring/confidence tiers) described in clavain-vision.md; current Discover path is a shim.
- **iv-6376** [P1] [epic] [intercore] E9: Autarch Phase 2 — Pollard + Gurgeh migration
  - Next kernel epic after E8 completion. Blocks E10 and 3 downstream features.
- **iv-yfkln** [P1] [epic] [intercom] IronClaw migration — retire NanoClaw compatibility
  - Currently in-progress (6 active sub-beads). Migrating Intercom from NanoClaw to IronClaw Rust architecture.

**P1 Module Hardening (from module-level roadmaps)**

24 module-level "now" items across active plugins, each targeting stability and quality:

- [intercheck] Standardize pre-tool quality policy gates for high-risk file operations
- [intercraft] Stabilize architectural lint checks and make pattern annotations machine-readable
- [interdev] Reduce friction for MCP tool discovery when tool metadata drifts
- [interdoc] Harden recursive AGENTS.md generation for nested module boundaries
- [interfluence] Improve voice-profile feature stability on short profile sample sets
- [interform] Stabilize design validation hooks for generated interface specs
- [interject] Increase discovery relevance for high-signal sources and reduce noisy suggestions
- [interlearn] Harden indexing robustness for inconsistent frontmatter and malformed markdown
- [interlearn] Improve audit signal quality so coverage gaps are high-confidence (P2)
- [interlens] Stabilize lens execution contracts and quality labels for automated synthesis
- [interline] Make statusline updates resilient to high-frequency session transitions
- [intermap] Complete tldr-swinton extraction and fix test paths
- [intermap] Audit all 6 tools for accuracy, performance, and integration gaps
- [intermux] Stabilize session visibility feeds under intermittent tmux/disconnect conditions
- [internext] Improve prioritization explainability and confidence thresholds
- [interpath] Harden monorepo artifact synthesis for mixed module discovery states
- [interphase] Increase phase transition determinism and resilience across long sessions
- [interpub] Reduce publish risk with pre-flight dependency graph checks
- [intersearch] Increase recall/precision quality on mixed-repo retrieval in low-token contexts
- [interserve] Improve classification confidence calibration for high-value tasks
- [interslack] Stabilize event delivery for gated actions and release notifications
- [interstat] Finalize baseline token metric schema aligned to interphase and Clavain decisions
- [interwatch] Improve drift scoring for mixed-format source files and generated artifacts
- [tuivision] Stabilize deterministic replay for complex interactive terminal sessions

<details>
<summary>Recently completed (30+ items)</summary>

- iv-pt53 — Interoperability: cross-module agent discovery, result sharing, and framework benchmarking (epic)
- iv-jc4j — [intermute] Heterogeneous agent routing experiments
- iv-jocaw — Run heterogeneous routing experiments across all Demarch pillars
- iv-dthn — Research: inter-layer feedback loops and optimization thresholds
- iv-ht1l — [autarch] Pollard: progressive result reveal per hunter
- iv-qznx — [interflux] Multi-framework interoperability benchmark and scoring harness
- iv-p4qq — Smart semantic caching across sessions (intercache)
- iv-qu6c — [intercache] Phase 3: Embedding persistence — storage + semantic search
- iv-3ua2 — [intercache] Phase 2: Session intelligence — tracking + warming + git hook
- iv-0qhl — [intercache] Phase 1: Core cache — blob store + manifest + MCP tools
- iv-4nem — Implement fair spawn scheduler in Intercore
- iv-2jtj — F5: Escalation Timeout for Unresponsive Agents (interlock)
- iv-5ijt — F3: Structured negotiate_release MCP Tool (interlock)
- iv-xlpg — [autarch] Pollard: optional-death hunter resilience
- iv-omzb — Implement inline mode with scrollback preservation in Bigend
- iv-redzz — F3: Scrollback dump on exit (autarch)
- iv-l2hj8 — F2: Integrate LogPane into all tool views (autarch)
- iv-jjcx6 — F4: Panic recovery for terminal restore (autarch)
- iv-as0jw — F1: Wire LogHandler into Bigend entry point (autarch)
- iv-t217 — Implement dirty row tracking in Bigend TUI
- iv-a0zv — Implement resize coalescing in Bigend
- iv-0jfz — Implement design token system for Autarch TUI
- iv-26pj — [autarch] Streaming buffer / history split per agent panel
- iv-rjz3 — [intercore] Sandbox specs — SandboxSpec schema on dispatches (E10 kernel prep)
- iv-x971 — [intercore] Cost reconciliation — billing vs self-reported token verification
- iv-hks2 — [clavain] Unify /route -> /sprint -> /work into adaptive single-entry workflow
- iv-xxyi — F1: Expand /route — absorb sprint preamble
- iv-qe1j — F2: Slim /sprint — strip preamble, keep phase sequencer
- iv-3ngh — F2: Slim /sprint — pure phase sequencer
- iv-czz4 — F3: Update routing table and cross-references
- iv-8cf5 — F4: Interflux capability declarations in plugin.json
- iv-xuec — Security threat model for token optimization techniques
- iv-bttjn — Add 9 missing plugins to agent-rig.json classifications
- iv-0ys1 — [clavain] Resolve 3 upstream conflicts in superpowers sync

</details>

### Next (P2)

**In-Progress (6 items)**

The IronClaw migration epic (iv-yfkln) is actively in-progress with 6 sub-beads:
- iv-yfkln.1 [P1] Persist inbound Telegram/WhatsApp messages to Postgres
- iv-yfkln.2 [P1] Unify service install/start flow for intercom + intercomd
- iv-yfkln.3 [P2] Migrate legacy config paths and naming from nanoclaw to intercom
- iv-yfkln.4 [P2] Remove stale runtime toggles/fallbacks after IronClaw cutover
- iv-yfkln.5 [P2] Update migration docs and runbooks to IronClaw-first operations

---

**Clavain Agency Configuration & Fleet Registry**

- [clavain] **iv-lx00** C2: Agent fleet registry — capability + cost profiles (blocked by iv-asfy closing)
- [interverse] **iv-quk4** Hierarchical dispatch: meta-agent for N-agent fan-out
- [interverse] **iv-6ikc** Plan intershift extraction (cross-AI dispatch engine)
- [interverse] **iv-zyym** Evaluate Claude Hub for event-driven GitHub agent dispatch

**Interspect Routing Override Chain** (downstream of P0 iv-r6mf)

- [interspect] **iv-8fgu** F2: routing-eligible pattern detection + propose flow (blocked by iv-r6mf)
- [interspect] **iv-gkj9** F3: apply override + canary + git commit (blocked by iv-8fgu)
- [interspect] **iv-2o6c** F4: status display + revert for routing overrides (blocked by iv-gkj9)
- [interspect] **iv-6liz** F5: manual routing override support (blocked by iv-r6mf)

**Disagreement Signal Pipeline** (downstream of iv-r6mf)

- **iv-5muhg** Disagreement → resolution → routing signal pipeline (blocked by iv-r6mf)

**Interspect Safety, Evaluation & Learning**

- [interspect] **iv-fl9gg** Research: anti-Goodhart mechanisms for Interspect optimization
- [interspect] **iv-5su3** Autonomous mode flag
- [interspect] **iv-c2b4** /interspect:disable command
- [interspect] **iv-g0to** /interspect:reset command
- [interspect] **iv-003t** Global modification rate limiter
- [interspect] **iv-0fi2** Circuit breaker
- [interspect] **iv-drgo** Privilege separation (proposer/applier)
- [interspect] **iv-bj0w** Conflict detection (blocked by iv-rafa)
- [interspect] **iv-88yg** Structured commit message format
- [interspect] **iv-435u** Counterfactual shadow evaluation
- [interspect] **iv-izth** Eval corpus construction (blocks iv-t1m4)
- [interspect] **iv-rafa** Meta-learning loop (blocks iv-bj0w)
- [interspect] **iv-t1m4** Prompt tuning (Type 3) overlay-based (blocked by iv-izth)
- [interspect] **iv-m6cd** Session-start summary injection

**Intermap: Project-Level Code Mapping** (downstream of P0 epic iv-w7bh)

- [intermap] **iv-dl72x** F1: Audit existing Intermap MCP tools (accuracy, performance, integration)
- [intermap] **iv-728k** F1: Go MCP scaffold + Python subprocess bridge
- [intermap] **iv-vwj3** F2: Extract Python modules from tldr-swinton
- [intermap] **iv-mif9** F3: Remove moved tools from tldr-swinton
- [intermap] **iv-h3jl** F4: Project registry + path resolver
- [intermap] **iv-9kq3** F5: Agent overlay (intermux integration)
- [intermap] **iv-3kz0v** F5: Write real Intermap vision and roadmap docs
- [intermap] **iv-80s4e** F6: Cross-project dependency graph MCP tool
- [intermap] **iv-okfc** F6: Marketplace + plugin packaging
- [intermap] **iv-dta9w** F7: Architecture pattern detection MCP tool
- [intermap] **iv-54iqe** F8: Live change awareness MCP tool

**StrongDM Factory Substrate** (downstream of P0 epic iv-ho3)

- [autarch/clavain] **iv-296** Add CXDB-lite: run DAG + blob CAS for agent observability and recovery
- [autarch/clavain] **iv-c2r** Add scenario bank + satisfaction scoring to Gurgeh/Coldwine

**Interlock Multi-Agent File Coordination** (remaining open)

- [interlock] **iv-gg8v** F2: Auto-Release on Clean Files
- [interlock] **iv-6u3s** F4: Sprint Scan Release Visibility
- [interverse] **iv-14g9** [epic] TOCTOU prevention: phased dispatch coordination

**Flux-Drive Library Extraction & Interflux Intelligence**

- [flux-drive-spec] **iv-ia66** Phase 2: Extract domain detection library (blocks iv-0etu)
- [flux-drive-spec] **iv-0etu** Phase 3: Extract scoring/synthesis Python library (blocked by iv-ia66)
- [flux-drive-spec] **iv-e8dg** Phase 4: Migrate Clavain to consume the library (blocked by iv-0etu)
- [interflux] **iv-qjwz** AgentDropout: dynamic redundancy elimination (blocked by iv-ynbh)
- [interflux] **iv-wz3j** Role-aware latent memory architecture experiments

**Autarch TUI & Product Features**

- [autarch] **iv-8nly** Implement virtualized lists with Fenwick tree in Bigend
- [autarch] **iv-m33r** Implement budget degradation with PID controller
- [autarch] **iv-16z** Wire Coldwine and Pollard signal emitters
- [autarch] **iv-1pkt** Implement phase-based confirmation flow for broadcast actions
- [autarch] **iv-6iu** Integrate Epic/Task generation into unified onboarding flow
- [autarch] **iv-l8p** TUI Pollard scan integration

**Intercom Messaging Gateway**

- [intercom] **iv-902u6** Gate approval via Telegram
- [intercom] **iv-elbnh** Session continuity across model switches (bug)
- [intercom] **iv-niu3a** Discovery triage via messaging
- [intercom] **iv-wjbex** Sprint status push notifications

**Token Efficiency, Benchmarking & Context Engineering**

- [interstat] **iv-0lt** Extract cache_hints metrics in score_tokens.py
- [interstat] **iv-1gb** Add cache-friendly format queries to regression_suite.json
- [interstat] **iv-v81k** Repository-aware benchmark expansion for agent coding tasks
- [interserve] **iv-fv1f** Implement multi-strategy context estimation
- [interverse] **iv-jk7q** Research: cognitive load budgets & progressive disclosure review UX

**Core Infrastructure & Memory**

- [intercore] **iv-d62c** Write-path namespace validation (v1.5) — reject out-of-namespace writes (blocks iv-e752)
- [intermem] **iv-f7po** F3: Multi-file tiered promotion (blocks iv-bn4j)
- [intermem] **iv-bn4j** F4: One-shot tiered migration (blocked by iv-f7po)
- [interverse] **iv-sdqv** Plan interscribe extraction (knowledge compounding)

**Clavain Workflow & Infrastructure**

- [clavain] **iv-3w1x** Split upstreams.json into config + state files
- [clavain] **iv-4728** Consolidate upstream-check.sh API calls (24 to 12)

**Multi-Agent Crash Recovery**

- [interverse] **iv-0681** Crash recovery + error aggregation for multi-agent sessions

**Research & Strategic Exploration**

- **iv-3kee** Research: product-native agent orchestration (whitespace opportunity)
- **iv-exos** Research: bias-aware product decision framework
- **iv-fzrn** Research: multi-agent hallucination cascades & failure taxonomy
- **iv-x6by** Research: Interspect adaptive profiling and dynamic rule evolution
- **iv-q21d** Research: Fleet orchestration and portfolio management
- **iv-wqk6** Research: The Discovery Pipeline (Level -1)
- **iv-1b3n** Research: Advanced multi-agent coordination
- **iv-zyw5** Research: Token efficiency and context hygiene
- **iv-cuc8** Research: Early and planned modules
- **iv-zzo4** Bug: Investigate interflux install failure on new computer

**Recovered Beads (Integration Clusters)**

- **iv-85gvr** [recovered] [autarch] OS-layer + self-hosting integration cluster
- **iv-h7teh** [recovered] [intercom] filesystem IPC + mount-exclude overlay behavior
- **iv-ryeyd** [recovered] [intermute/interlock] window identity persistence integration
- **iv-ydlzd** [recovered] [interbase] v2.0.0 + mcputil/toolerror rollout
- **iv-lronl** [recovered] [intercore] coordination subsystem + deadlock/release fixes
- **iv-9x4t9** [recovered] [intercore] ic publish pipeline + hook hardening

### Later (P3-P4)

**P3 Themes** (279 items across these areas):

**Gridfire Composition Layer** -- iv-toe0e epic placeholder. Capability-based composition layer with 7 primitives (Flow, Action, Receipt, Gate, Controller, Capability, RunGraph). Strangler-fig migration from Intercore primitives. Deny-by-default security model. May become a pillar. Not actionable until Intercore E-series matures. See `docs/brainstorms/2026-02-27-gridfire-brainstorm.md`.

**Clavain Self-Building Loop** -- C4 cross-phase handoff protocol, C5 self-building loop where Clavain runs its own development sprints (blocked by iv-asfy -> iv-lx00 -> iv-1vny + iv-240m). Agency specs must land first.

**Intercore E-Series** -- E9 Autarch Phase 2 (Pollard + Gurgeh migration, now P1, unblocked), E10 Sandboxing + Autarch Phase 3 (Coldwine, P4, blocked by E9). Write-path namespace validation and auditing. Sequential chain gating next-generation Autarch.

**Autarch Advanced Features** -- Pollard parallel model race (iv-16sw) and confidence tiers, Gurgeh spec sprint lifecycle with run versioning and crash-resume, Coldwine risk-gated autopilot with steering queues and ActionResult chaining. Arbiter extraction phases 1-3. Advanced rendering: shimmer/gradient effects, hit grid, widget state persistence, one-writer enforcement, style cascade.

**SDK & Plugin Ecosystem** -- Interbase SDK roadmap with extended API, plugin author guide, and additional migrations (iv-5jqi epic). Monorepo build orchestrator (interbuild) with change detection. Marketplace manifest drift auto-close. Version-bump -> Interwatch signal pipeline. First-run onboarding tutorial for Autarch (iv-0srs).

**Intercom Future** -- Container-runner as service endpoint (iv-uxfm6, P3), Interspect routing hints for model selection (iv-gpsqk, P3), multi-runtime review dispatch via intersynth (iv-pmeni, P3).

**Research Repo Assessments** -- 30+ dicklesworthstone research repo integration/inspiration assessments across P0-P3, covering areas like agent farms, MCP agent mail, beads viewers, memory systems, bug scanners, and coding tournaments.

**Research & Future** -- Guardian agent patterns. Prompt compression (LLMLingua, gist tokens). NudgeNik-style LLM agent state classification. Conformal alerting for interstat budgets. GitHub PR integration service (interhub, iv-01c4).

**P4 Backlog:** 124 items in deep backlog. Includes roadmap-recovery placeholders, recovered orphan docs, and speculative items dependent on multiple P2/P3 completions.

---

## Module Deep Dives

Detailed status for modules with substantive strategic context. All other modules have one-line summaries in the [Ecosystem Snapshot](#ecosystem-snapshot) table above.

### clavain (os/clavain)

Autonomous software agency. Sprint consolidation chain (iv-hks2) closed 2026-02-23: `/route -> /sprint -> /work` unified into adaptive single-entry workflow. For current version and stats: `grep '"version"' os/clavain/plugin.json`.

**What's Working:** Full product lifecycle (Discover -> Design -> Build -> Ship), three-layer architecture (Kernel/OS/Drivers), multi-agent review engine (interflux), phase-gated `/sprint` pipeline, cross-AI peer review via Oracle, parallel Codex dispatch, 165 structural tests, multi-agent file coordination (interlock), signal-based drift detection (interwatch), Interspect analytics, Intercore kernel as durable state.

**What's Not Working Yet:** Adaptive model routing (B3) -- requires Interspect routing overrides (iv-r6mf chain, P0). Agency architecture is implicit (no declarative specs/fleet registry). Discovery pipeline not yet wired into sprint (iv-zsio, P1). StrongDM validation-first infrastructure (iv-ho3, P0) needed for robust factory substrate.

**Three Parallel Tracks:** Track A (Kernel Integration: A1-A3 all done), Track B (Model Routing: B1-B2 done, B3 open P0 via iv-r6mf), Track C (Agency Architecture: C1-C5 all open, iv-ho3 added as P0 factory substrate). Convergence target: C5 -- self-building Clavain orchestrating its own development sprints.

### intercore (core/intercore)

Orchestration kernel -- Go CLI + SQLite. 8 of 10 epics shipped (E1-E8). Fair spawn scheduler (iv-4nem) and sandbox specs (iv-rjz3) both closed 2026-02-23.

**Open Epics:** E9 (Autarch Phase 2 -- Pollard + Gurgeh migration, P1, unblocked) and E10 (Sandboxing + Autarch Phase 3, P4, blocked by E9). Dependency chain: E5+E7 -> E9, E8+E9 -> E10.

### interflux (interverse/interflux)

v0.2.30 -- stable feature-complete multi-agent review engine (2 skills, 3 commands, 12 review + 5 research agents, 2 MCP servers) in quality/ops phase. Capability declarations (iv-8cf5) shipped. Benchmark harness (iv-qznx) and interoperability epic (iv-pt53) closed.

**What's Next:** Phase 1 (Contract Tightening -- AgentDropout iv-qjwz, role-aware latent memory iv-wz3j), Phase 2 (Integration -- domain depth, DX, Clavain interop), Phase 3 (Scale -- adaptive selection, cost controls, knowledge hygiene). Flux-drive library extraction (iv-ia66, iv-0etu, iv-e8dg) for reuse across modules.

### interlock (interverse/interlock)

v0.2.7 -- Phase 1+2 shipped. Per-session git index isolation, commit serialization, blocking edit enforcement, automatic file reservation. negotiate_release (iv-5ijt) and escalation timeout (iv-2jtj) closed. 20 tools, 4 commands, 2 skills, 3 hooks. 95 structural tests.

**What's Next:** F2 Auto-Release on Clean Files (iv-gg8v), F4 Sprint Scan Release Visibility (iv-6u3s), P2.1 Workflow Integration (auto-join, bead-agent binding, post-commit broadcast), P2.3 UX/Recovery (interline visibility, automated conflict resolution).

### interkasten (interverse/interkasten)

v0.4.6 -- production-ready bidirectional Notion sync. 21 MCP tools, 130 tests. Three-way merge via `node-diff3`, WAL-based crash recovery, circuit breaker + exponential backoff, beads issue sync with snapshot-based diff detection, soft-delete with 30-day GC. Hierarchy tools (scan_preview, set_project_parent, set_project_tags, gather_signals) will migrate to intertree in a future phase.

**What's Next:** P2.1 Webhooks + Real-Time Sync (webhook receiver, Cloudflare edge, polling fallback), P2.2 Operational Quality (conflict resolver extraction, async beads bridge, config validation), P2.3 Team-Ready Workflows (multi-user conflict resolution, drift observability, safer bulk workflows).

### intercom (apps/intercom)

v1.1.0 -- Multi-channel messaging gateway (Telegram, WhatsApp, Slack). Currently undergoing **IronClaw migration** (iv-yfkln, P1, in-progress) to retire NanoClaw compatibility layer. 6 active sub-beads covering Postgres persistence, service unification, config migration, toggle cleanup, and runbook updates.

**What's Next:** Complete IronClaw migration, then P2 features: gate approval via Telegram (iv-902u6), discovery triage via messaging (iv-niu3a), sprint status push notifications (iv-wjbex). Fix session continuity bug (iv-elbnh).

### intermute (core/intermute)

Multi-agent coordination service -- Go + SQLite. Core APIs for agent-to-agent messaging, WebSocket delivery, cursor-based inbox, file reservation with shared-lock behavior and background sweep cleanup, domain APIs for specs/epics/stories/tasks/insights/sessions.

**What's Next:** Now (production hardening -- startup diagnostics, retry/backoff, DB retention, metrics, operations runbooks, conflict semantics). Next (API versioning, pagination consistency, SDK-ready contracts, developer test fixtures, pluggable storage research). Later (horizontal scalability, hierarchical locking, preflight conflict prediction, mutation audit).

### intermap (interverse/intermap)

v0.1.4 -- P0 epic (iv-w7bh). Go MCP server + Python analysis bridge. 9 MCP tools: project_registry, resolve_project, agent_map, code_structure, impact_analysis, change_impact, cross_project_deps, detect_patterns, live_changes. Python workspace.py and ignore.py extracted from tldr-swinton. Go -> Python persistent sidecar bridge for in-memory caching.

**What's Next:** Full feature chain (F1 audit -> F2 Python extraction -> F3 tldr removal -> F4 registry -> F5 agent overlay -> F6 dep graph + packaging -> F7 pattern detection -> F8 live changes), culminating in marketplace publish.

### tldr-swinton (interverse/tldr-swinton)

v0.7.14 -- Token-efficiency context layer. Production-ready CLI + MCP surfaces, multi-language extraction, semantic search with faiss/colbert backends, diff-aware context workflows, eval wiring through interbench. Workspace/ignore modules migrated to intermap.

**What's Next:** P2.1 Deep Clavain integration (default low-cost context source, stage integration map, context handoff metadata), P2.2 Parity with beads (symbol-boundary truncation, ultracompact depth control, source-aware slice, cache-friendly format), P2.3 Reliability/adoption (friction reduction, MCP telemetry, bug-class mitigation). P2 Scale (long-context persistence, mixed-mode planner, architecture-risk benchmarks, latency-control envelopes).

### New Modules (extracted 2026-02-25)

Eleven new plugins extracted from existing modules to maintain single-responsibility:

- **intercache** (0.2.0) -- Cross-session semantic cache (blob store + manifests + session tracking). Embedding tools migrated to intersearch.
- **interknow** (0.1.0) -- Knowledge compounding extracted from interflux. qmd MCP server for semantic retrieval. Provenance tracking + temporal decay.
- **intername** (0.1.1) -- Agent and agency naming. Deterministic memorable identities. 4 themes (culture, demarch, nato, custom).
- **interplug** (0.1.0) -- Plugin development toolkit extracted from interdev. create/validate/troubleshoot skills.
- **interpulse** (0.1.1) -- Session context monitoring extracted from intercheck. Context pressure tracking + threshold warnings.
- **intersearch** (0.2.0) -- Shared embedding infrastructure. nomic-embed-text-v1.5 (768d), per-project SQLite, Exa web search. Consumed by interject, interflux, intercache, tldr-swinton.
- **intersense** (0.1.0) -- Domain detection scripts extracted from interflux. 11 domain profiles, `.claude/intersense.yaml` cache.
- **intership** (0.3.0) -- Culture ship names for Claude Code spinner verbs. Session-start hook patches `spinnerVerbs` in settings.json.
- **interskill** (0.1.0) -- Skill authoring toolkit extracted from interdev. create + audit skills.
- **intertree** (0.1.0) -- Project hierarchy management extracted from interkasten. Filesystem discovery + parent-child relationships.
- **intertrust** (0.1.2) -- Agent trust scoring engine extracted from interspect. Severity-weighted time-decayed reputation scoring.

---

## Research Agenda

- **P0 Sprint Targets** -- Intermap extraction epic (iv-w7bh) for project-level code mapping; Interspect routing overrides (iv-r6mf) to activate adaptive model routing; StrongDM Factory Substrate (iv-ho3) for validation-first Clavain infrastructure; North star metric (iv-b46xi) to establish cost-per-landable-change baseline (promoted: "instrument first, optimize later")
- **P1 Sprint Targets** -- First-stranger experience (iv-t712t, docs P0/flow P1) for external adoptability; Disagreement signal pipeline (iv-5muhg) to wire the highest-value learning signal; Discovery OS integration (iv-zsio) to close research->backlog loop; E9 Autarch Phase 2 (iv-6376); IronClaw migration completion (iv-yfkln)
- **Kernel E-Series Completion** -- E9 Autarch Phase 2 (Pollard + Gurgeh migration) is the next kernel epic, now P1 and unblocked
- **Event-Driven Phase Advancement** -- Wire phase transitions through event-emitting action system; `ic run advance` returns resolved next-command(s) via `phase_actions` table
- **Multi-Session File Coordination** -- Git-index-per-session + flock-serialized commits, mandatory file reservations on edit, session registration in sprint flow
- **Sprint Resilience & Resume** -- Kernel-driven sprint state via `ic run`, cached run ID at claim, session-start sprint detection for zero-setup resume
- **Cost-Aware Agent Scheduling** -- Token spend as first-class resource: sprint budgets, budget-aware phase-advance checks, PID controller for degradation
- **Flux-Drive Document Slicing** -- Interserve Go MCP server classifying document sections per agent domain; per-agent temp files reducing token consumption 50-70%
- **Cognitive Lens Integration** -- Flux-drive lens agents for structured reasoning; triage pre-filter excluding cognitive agents from diff inputs
- **Dual-Mode Plugin Architecture** -- Interbase.sh SDK + integration.json schema so plugins work as both CLI and MCP; interflux as reference implementation
- **Agent Capability Discovery** -- End-to-end: agents advertise capabilities at registration, intermute filters by capability, consumers query via `ic agent list --capability=`
- **Thematic Work Lanes** -- Lanes as first-class kernel entity (auto-discover from `bd label lane:*`), sprint/discovery filtering, lane-scoped scheduling
- **Portfolio Orchestration** -- E8 for multi-project coordination: portfolio lanes, dependency scheduling, rollback policy, portfolio-level advance gates
- **Token-Efficient Context Engineering** -- Compact SKILL.md generation, pre-computed signals, LLMLingua/gist token compression, subagent context flooding prevention
- **Structured Reflection & Learning** -- Reflect phase gate in sprint workflow, kernel-native reflect, durable learning artifacts (not just beads)
- **Plugin Publishing Validation** -- Capability declarations, integration.json schema compliance, MCP server health checks as pre-publish gates
- **Safe Approval Flows** -- Evaluate phase gate approvals over chat, high-signal message summaries, compact diff artifacts for PR review

---

## Cross-Module Dependencies

Major dependency chains spanning multiple modules:

**P0 Intermap Epic (iv-w7bh hub)**
- iv-dl72x (audit) -> iv-728k (scaffold) -> iv-vwj3 + iv-mif9 (extraction) -> iv-h3jl (registry) -> iv-9kq3 (agent overlay) -> iv-80s4e + iv-dta9w + iv-54iqe (advanced tools) -> iv-okfc (marketplace)

**P0 Interspect Routing Override Chain (iv-r6mf hub)**
- **iv-r6mf** (F1, P0) -> **iv-8fgu** (F2) -> **iv-gkj9** (F3) -> **iv-2o6c** (F4) sequential
- **iv-6liz** (F5 manual override) also blocked by iv-r6mf

**P0 StrongDM Factory Substrate (iv-ho3 hub)**
- **iv-ho3** blocks: iv-1hu, iv-296, iv-2li, iv-3ov, iv-b46, iv-c2r, iv-d32, iv-txw, iv-wbh
- iv-296 (CXDB-lite) -> iv-b46, iv-txw, iv-wbh downstream

**P1 IronClaw Migration (iv-yfkln hub)**
- iv-yfkln.1 + iv-yfkln.2 (P1) -> iv-yfkln.3 + iv-yfkln.4 + iv-yfkln.5 (P2) sequential

**Agency Specs Chain (iv-asfy hub)**
- **iv-asfy** (C1) blocks: iv-lx00 (C2), iv-1vny, iv-240m
- iv-1vny + iv-240m -> **iv-6ixw** (C5 self-building loop, P3)

**Intermute/Interflux Routing Chain**
- **iv-wz3j** (interflux latent memory) blocked by routing experiments -- now cleared (iv-jc4j closed)

**Intercache Chain -- COMPLETED 2026-02-23**
- iv-0qhl -> iv-3ua2 -> iv-qu6c: all three phases closed

**Interlock Chain -- PARTIALLY COMPLETE**
- iv-5ijt (F3) and iv-2jtj (F5) closed; iv-gg8v (F2) and iv-6u3s (F4) remain open

**Bigend Inline Mode -- COMPLETE**
- iv-omzb closed 2026-02-23; iv-as0jw, iv-redzz, iv-l2hj8, iv-jjcx6 all unblocked and closed

**Clavain Workflow Unification -- COMPLETE**
- iv-hks2 closed 2026-02-23; iv-xxyi, iv-qe1j, iv-3ngh, iv-czz4 all closed

**Intercore Evolution Chain**
- **iv-6376** (E9, P1) -> **iv-qr0f** (E10, P4)

---

## Keeping Current

```
# Regenerate this roadmap JSON from current repo state
scripts/sync-roadmap-json.sh docs/roadmap.json

# Regenerate via interpath command flow (Claude Code)
/interpath:roadmap    (from Demarch root)

# Auto-generate module-level roadmaps from beads
scripts/generate-module-roadmaps.sh

# Or via interpath command (runs the script)
/interpath:propagate  (from Demarch root)
```
