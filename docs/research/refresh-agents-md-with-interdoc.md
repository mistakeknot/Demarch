# AGENTS.md Refresh Analysis — 2026-02-23

## Summary

Scanned the Demarch monorepo structure against the current AGENTS.md (366 lines) and CLAUDE.md. The "55 new files" signal is primarily `.gemini/skills/` scaffolding (38 SKILL.md files auto-generated by `scripts/gen-gemini-skills.sh`) plus a few new scripts. These are configuration scaffolding, not architectural changes.

**Two substantive drift items found; the rest is current.**

## Findings

### 1. MISSING: `apps/intercom/` (NanoClaw) — Not Documented Anywhere

**Severity: Medium — structural omission.**

`apps/intercom/` is a fully developed module (multi-runtime personal AI assistant with Claude/Gemini/Codex backends, Docker containers, Telegram + WhatsApp channels). It has its own `CLAUDE.md`, `AGENTS.md`, `package.json`, test configs, and 13+ source files. It is NOT listed in:
- Root `AGENTS.md` Directory Layout table
- Root `AGENTS.md` Module Relationships section
- Root `CLAUDE.md` Structure section

**Fix applied:** Added `apps/intercom/` to the AGENTS.md Directory Layout table and the CLAUDE.md Structure section.

### 2. MISSING: `interserve` in MCP Server Plugins List

**Severity: Low — partial omission.**

`interserve` is correctly listed in the Directory Layout table as "(MCP)" and in the Module Relationships section, but is missing from the MCP server plugins parenthetical on line 187 that lists which plugins need build/install before testing.

**Fix applied:** Added `interserve` to the MCP server plugins list.

### 3. New Scripts Not Documented — No Action Needed

Several new scripts have been added since the last AGENTS.md update:
- `scripts/validate-plugin.sh` — structural validator for Claude Code plugins (committed, wired into interbump)
- `scripts/clean-plugin-cache.sh` — prunes stale version directories (committed)
- `scripts/gen-gemini-skills.sh` — generates Gemini CLI skill scaffolding (committed)
- `scripts/gemini-hook-bridge.sh` — Gemini hook bridge (untracked)
- `scripts/register-mcp.sh` — MCP registration helper (untracked)

These are tooling scripts, not architectural components. The AGENTS.md `scripts/` row already says "Cross-project scripts (interbump.sh)" which is intentionally non-exhaustive. No change needed — individual script documentation belongs in the scripts themselves or in the operational guides.

### 4. `.gemini/` Directory — Config Scaffolding, No AGENTS.md Impact

The `.gemini/` directory contains:
- `settings.json` — Gemini CLI settings
- `skills/` — 37 auto-generated SKILL.md files (one per interverse plugin + clavain + config + interverse-ops + tldr-bench)

This is adapter configuration for the Gemini CLI integration (`GEMINI.md` at root provides the context bridge). It does not change the project architecture and does not need documenting in AGENTS.md.

### 5. `Interforge/` — Untracked Research, Not a Module

`Interforge/` is an untracked directory containing a single `docs/vision-feedback.md` file with stale path references (e.g., `hub/autarch`, `infra/intercore`). It is research material, not a new module. No AGENTS.md entry needed.

### 6. `.claude/agents/` and `.claude/reviews/` — Untracked Agent/Review Configs

These contain focused-domain agent definitions (e.g., `fd-cli-ux.md`, `fd-terminal-rendering.md`) and NTM review synthesis docs. These are Claude Code session configurations, not monorepo architectural components. No AGENTS.md entry needed.

### 7. Plugin Count — Accurate

33 plugins exist on disk in `interverse/`. The "33+" claim in both AGENTS.md and CLAUDE.md is accurate.

### 8. All Interverse Plugins — Fully Documented

Every plugin directory under `interverse/` has a corresponding row in the AGENTS.md Directory Layout table and an entry in the Module Relationships section. No missing plugins.

## Changes Applied

### AGENTS.md

1. **Line 42 area (Directory Layout table):** Added `apps/intercom/` row:
   ```
   | `apps/intercom/` | Autarch | Multi-runtime AI assistant (Claude, Gemini, Codex) + messaging |
   ```

2. **Line 187 (MCP server plugins list):** Added `interserve` to the parenthetical list.

### CLAUDE.md

1. **Structure section:** Added `intercom/` under `apps/`:
   ```
     intercom/           → multi-runtime AI assistant (Claude, Gemini, Codex) + messaging
   ```

## What Was NOT Changed

- Plugin descriptions — all accurate
- Module Relationships diagram — intercom is standalone (no cross-module dependencies in the kernel layer)
- Plugin count ("33+") — accurate
- Scripts section — intentionally non-exhaustive
- Operational guides section — no new guides added
- Naming convention — no changes
- Prerequisites — intercom uses node/npm which is already listed
